<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Order History - DP</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</head>
<body class="bg-light">
<div class="container mt-5">
  <h1 class="mb-4">Order History</h1>

  <table class="table table-bordered bg-white">
    <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Customer</th>
      <th>Size</th>
      <th>Crust</th>
      <th>Toppings</th>
      <th>Qty</th>
      <th>Delivery</th>
      <th>Address</th>
      <th>Total</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="order : ${orders}">
      <td th:text="${order.id}"></td>
      <td th:text="${order.customerName}"></td>
      <td th:text="${order.size}"></td>
      <td th:text="${order.crust}"></td>
      <td>
        <span th:each="t : ${order.toppings}" th:text="${t}" th:unless="${t == null}"></span>
        <span th:if="${!#lists.isEmpty(order.toppings)}">, </span>
      </td>
      <td th:text="${order.quantity}"></td>
      <td th:text="${order.delivery ? 'Yes' : 'No'}"></td>
      <td th:text="${order.deliveryAddress}"></td>
      <td th:text="${order.total}"></td>
    </tr>
    </tbody>
  </table>

  <a href="/orders/new" class="btn btn-primary">Place New Order</a>
</div>

</body>
</html>